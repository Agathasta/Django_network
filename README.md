# NETWORK

## [CS50 Web Design Project 4](https://cs50.harvard.edu/web/2020/projects/4/network)

Design a Twitter-like social network website for making posts and following users.  

YouTube URL: <https://youtu.be/xxx>  

TECHNOLOGIES USED  

* HTML
* CSS
* JAVASCRIPT
* PYTHON
* DJANGO

1. MODELS  
I decided to use only 2 models, User and Post, related through a ForeignKey.  
Followers/following can be logged in a recursive ManyToMany relationship in User. Symmetry needs to be set to False and blank to True.  
**** The likes can be a ManyToMany relationship between User and Post, with blank set to True.  

2. CSS
I am not using Bootstrap.  
I have copied the normalize.css to normalize (duh) the starting css.  
Looking at OOCSS, SMACSS, ITCSS, ACSS and BEM. Ummm.  
Decide to use SCSS: <https://engineertodeveloper.com/how-to-easily-use-sass-scss-with-django/>  

3. ALL POSTS, ADD POST
First go: everything was done with Python and it worked fine
Second go: implement JS for creating new posts and updating the post list asynchronously.  

    * The form is generated by Python, but JS sends the new posts. It somehow wouldn't work with JSON, but it does with FormData.  
    * To modify the DOM, I discovered document fragments. I now create all the divs I need (to later be able to style the post) in a for loop, adding classes and content to each, and append them to the fragment. This is more compact and I only modify the DOM once with every post. Twice, because I add the like icon at the end (could I access the one div while still in the fragment? I certainly could in the loop, with a conditional).  
    * I store the CSRF token in the session and not in a cookie, because getting that seemed overly complicated.  
Third go: new view for the post request.  

4. PAGINATION
Copied the code from the Django documentation. To style it, I looked at Bootstrap's style and adapted it.

5. PROFILE
The username link takes me to an url profile/username. The corresponding view filters the posts accordingly but renders the original index.html.  
I follow/unfollow with a JS patch Fetch request. The response is an array of followers; I made a list of the values of the ManyToMany field to be able to send it back as JSON. Too complicated, counting them would have been sufficient.  

6. FOLLOWING
Implemented like profile, changing the query. Added the @login_required decorator

7. LIKES
Implemented it like follow/unfollow but it was somehow easier and the result is cleaner. Maybe because user.following is a recursive ManyTo Many?
